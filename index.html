<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>recaptcha</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://kit.fontawesome.com/c3ee78a1f5.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- <div class="container">
      <div class=" column"></div>
      <div class=" column"></div>
      <div class=" column"></div>
      <div class=" column"></div>
      <div class=" column"></div>
      <div class=" column"></div>
      <div class=" column"></div>

      <div class="box">
        <h1 class="is-centered">login</h1>
        <form action="/post" method="POST" id="form">
        <div class="field columns is-mobile is-centered">
          <div class="column is-half">
            <p class="control has-icons-left has-icons-right ">
              <input class="input " type="email" placeholder="Email">
              <span class="icon is-small is-left">
                <i class="fas fa-envelope"></i>
              </span>
              <span class="icon is-small is-right">
                <i class="fas fa-check"></i>
              </span>
            </p>
          </div>
          </div>
          <div class="field columns is-mobile is-centered">
          <div class="column is-half">
            
            <p class="control has-icons-left">
              <input class="input" type="password" placeholder="Password">
              <span class="icon is-small is-left">
                <i class="fas fa-lock"></i>
              </span>
            </p>
          </div>
          </div>
         <div>
            <label for="name" class="label">username:
                <input class="input is-primary is-rounded" type="text" name="name" id="name">
            </label>
        </div>
        <div>
            <label for="password" class="label">password:
                <input class="input is-primary" type="password" name="password" id="password">
            </label>
        </div>
        <div class="control">
        <div class="g-recaptcha" data-sitekey="6LdTBssUAAAAAHNN3SYyFj0TS7Hs1rQ3MnHGCqLs"></div>
      <br/>
    </div>
      <input class="button is-link" type="submit" value="Submit">
<br>
<div class="columns">
  <div class="g-recaptcha column is-half" data-sitekey="6LdTBssUAAAAAHNN3SYyFj0TS7Hs1rQ3MnHGCqLs"></div>
</div>
<input class="button is-link" type="submit" value="Submit">
    </form>
</div>
</div> -->
<section class="hero is-primary is-fullheight">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-5-tablet is-4-desktop is-3-widescreen">
          <form action="/post" method="POST" class="box" id="form">
            <div class="field">
              <label for="" class="label">Username:</label>
              <div class="control has-icons-left">
                <input type="username" placeholder="Username..." class="input is-rounded is-primary" id="name" required>
                <span class="icon is-small is-left">
                  <i class="fa fa-envelope"></i>
                </span>
              </div>
            </div>
            <div class="field">
              <label for="" class="label">Password:</label>
              <div class="control has-icons-left">
                <input type="password" placeholder="password....." class="input is-rounded is-primary" id="password" required>
                <span class="icon is-small is-left">
                  <i class="fa fa-lock"></i>
                </span>
              </div>
            </div>
            <div class="field">
  <div class="g-recaptcha column is-half" data-sitekey="6LdTBssUAAAAAHNN3SYyFj0TS7Hs1rQ3MnHGCqLs"></div>
              
            </div>
            <div class="field">
              <button class="button is-primary">
                Login
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
    <script>
        document.getElementById('form').addEventListener('submit' , submit)
        function submit(e)
        {
            e.preventDefault()
            
            const name = document.getElementById('name').value
            const password = document.getElementById('password').value
            const captcha = document.getElementById('g-recaptcha-response').value
            
            fetch('/post', {
                method : 'POST',
                headers:{
                    'Accept' : 'application/json , text/plain , */*',
                    'Content-type' : 'application/json'
                },
                body:JSON.stringify({name:name , password : password , captcha : captcha})
            })
            .then((res)=> res.json())
            .then((data)=>{
                console.log(data);
                alert(data.msg);
            })
        }
    </script>
</body>
</html>